$def with (service, post, pretty_links, printer, link_to_home)
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" href="/stylesheets/export.css">
		<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
		<title>$post.question['title']</title>
		<script type="text/javascript" src="/javascripts/jquery-1.4.2.min.js"></script>
		<script type="text/javascript" src="/javascripts/main.js"></script>
		$if service in TEX_ENABLED_SERVICES:
		    <script type="text/javascript" src="/javascripts/mathjax.js"></script>
		    $if printer:
		        <script>
		            MathJax.Hub.Queue(function () {
		                Print();
		            });
		        </script>
		$else:
		    $if printer:
		        <script>
		            jQuery(document).ready(function(){Print();});
                </script>
    </head>
	<body>
	    <div id="home">
	        $if link_to_home:
	            <a href="/"><img title="Back to home" width="20px" height="20px" border="0" src="/images/icon_home.png"/></a>
	        <a href="http://www.stackprinter.com/export?format=HTML&service=$service&printer=false&question=$(post.question['question_id'])"><img title="Link to this printed question" width="20px" height="20px" border="0" src="/images/Share.gif"/></a>
	    </div>         
        <div id="question-block">
          <div id="question-title">
          	 <img src="$(supported_services.info[service]['icon_url'])"/>$htmlquote(post.question['title'])<br>
          </div>
          <div id="question-details">
                [$(['','+'][(int(post.question['up_vote_count'])-int(post.question['down_vote_count']))>0])$(int(post.question['up_vote_count'])-int(post.question['down_vote_count']))] [$post.question['answer_count']]
            	 $post.question.get('owner', {'display_name':'community_owned'})['display_name'] 
          </div>
          <div id="question-details">
              [$date_from(float(post.question['creation_date']))]
          </div>
          <div id="question-details">
          [
          $for tag in post.question['tags']:
              $tag
          ]
          </div>
          <div id="question-details">
          [ http://$(service).com/questions/$(post.question['question_id'])]
          $if post.is_deleted():
              [DELETED]
          </div>
          <div id="question">
          $if pretty_links:
              $code:
                  (sup_question_body,sup_question_links) = suppify_body(post.question['body'])
              $sup_question_body
              <div id="question-links">
              $for key in sup_question_links.keys():
                  [$(key)] $(sup_question_links[key])<br>
              </div>
          $else:
              $post.question['body']
          </div>
          	$for comment in post.question['comments']:
                <div class="comment">
                    $if int(comment['score']) > 0:
                        ($comment['score'])    
                    $comment['body'] - <b> $comment.get('owner', {'display_name':'community_owned'})['display_name']</b>                   
                </div>
              $for answer_number, answer  in enumerate(post.answers):
                  <div class="answer-details">
                      [$(['','+'][(int(answer['up_vote_count'])-int(answer['down_vote_count']))>0])$(int(answer['up_vote_count'])-int(answer['down_vote_count']))]
                      [$date_from(float(answer['creation_date']))]     
                      $answer.get('owner', {'display_name':'community_owned'})['display_name']
                      $if bool(answer['accepted']):
                          [<img  height="17px" width="17px" src="/images/blackflag.png"/>ACCEPTED]
                  </div>
                  <div class="answer">
                    $if pretty_links:  
                        $code:
                            (sup_answer_body,sup_answer_links) = suppify_body(answer['body'])
                        $sup_answer_body  
                        $for key in sup_answer_links.keys():
                            [$(key)] $(sup_answer_links[key])<br>
                        <br>
                    $else:
                        $answer['body']
                  </div>
                  $for comment in answer['comments']:
                      <div class="comment">
                      $if int(comment['score']) > 0:
                           ($comment['score'])    
                      $comment['body'] - <b> $comment.get('owner',{'display_name':'community_owned'})['display_name']</b>     
                      </div>
                  <div class="answer-pagenumber">$int(answer_number+1)</div>
      </div>
      <div id="adsense">
            <script type="text/javascript"><!--
            google_ad_client = "pub-3296756901484166";
            /* 728x15, created 10/7/10 */
            google_ad_slot = "7135200367";
            google_ad_width = 728;
            google_ad_height = 15;
            //-->
            </script>
            <script type="text/javascript"
            src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
            </script>
        </div>
        <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
        <script type="text/javascript">
            try {
                var pageTracker = _gat._getTracker("UA-4276204-5");
                pageTracker._trackPageview();
            } catch(err) {}
        </script>
	    <script src="http://static.getclicky.com/js" type="text/javascript"></script>
        <script type="text/javascript">clicky.init(250663);</script>
        <noscript><p><img alt="Clicky" width="1" height="1" src="http://in.getclicky.com/250663ns.gif" /></p></noscript>
  </body>
</html>